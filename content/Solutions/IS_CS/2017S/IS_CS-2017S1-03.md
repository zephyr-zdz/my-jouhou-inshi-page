# IS CS-2017S1-03

**题目来源**：[[2017S1#Problem 3]]
**日期**：2024-08-09
**题目主题**: CS-数字电路-时序逻辑电路

#未完成

## 解题思路

D 触发器（D flip-flop）作为此题的重点，它的输出主要受时钟信号和输入信号的影响。接着，需要设计一个在每个时钟周期中输出在 0 和 1 之间切换的电路（ALT）。最后，需要设计一个使用冒泡排序算法对 8 个 4 位无符号整数排序的电路。该排序电路需要使用 D 触发器以及其他逻辑门来完成任务。

## Solution

### Question 1: D Flip-Flop

The **D flip-flop** is a type of sequential logic circuit that has a data input (D), a clock input (CLK), and an output (Q). The behavior of the D flip-flop can be summarized as follows:

- On the rising edge of the clock (transition from 0 to 1), the output **Q** is set to the value of the input **D** at that moment.
- The output **Q** remains constant until the next rising edge of the clock.
- The **D flip-flop** can be described by the equation:

  $$
  Q_{next} = D
  $$

  where $Q_{next}$ is the output after the clock edge, and $D$ is the input.

This means that the output **Q** is directly determined by the value of **D** at the moment of the clock's rising edge, and it holds that value until the next clock cycle.

### Question 2: Circuit ALT

To design a circuit **ALT** that toggles its output between 0 and 1 every clock cycle, we can use a D flip-flop and a NOT gate.

1. Connect the output **Q** of the D flip-flop to the input of a **NOT** gate.
2. Connect the output of the **NOT** gate to the data input **D** of the flip-flop.
3. The clock signal (CLK) is connected to the clock input of the D flip-flop.

The circuit operates as follows:

- On each rising edge of the clock, the D flip-flop captures the inverted value of its current output **Q**.
- This causes the output **Q** to toggle between 0 and 1 on every clock cycle.

### Question 3: Sorting Circuit Design

To design a sorting circuit using the bubble sort algorithm, the circuit will use the following components: D flip-flops to store the integers, comparators (CMP) to compare pairs of integers, multiplexers (MUX) to swap them if needed, and additional logic to control the sorting process.

#### Steps

1. **Initialization:**
   - When $L = 1$, the 8 integers $I_0, I_1, \ldots, I_7$ are stored into 32 D flip-flops, each holding one 4-bit integer.

2. **Sorting Process:**
   - After $L$ becomes 0, the circuit starts the sorting process.
   - During each clock cycle, the circuit compares pairs of integers as described and swaps them if necessary.

#### Circuit Components

- **Comparators (CMP):** Compare pairs of 4-bit integers.
- **Multiplexers (MUX):** Used to either pass the current values or swap them based on the comparator output.
- **Flip-Flops (DFF):** Store the current state of each integer.
- **Control Logic:** Determines whether to swap based on the comparator outputs and tracks the sorting process.

#### Circuit Design

The design will have the following logic for each step of the bubble sort:

- **First Clock Cycle:** Compare and possibly swap:
  - $(v_0, v_1)$, $(v_2, v_3)$, $(v_4, v_5)$, $(v_6, v_7)$.
  - Use CMP to compare, MUX to choose between the original and swapped values.

- **Second Clock Cycle:** Compare and possibly swap:
  - $(v_1, v_2)$, $(v_3, v_4)$, $(v_5, v_6)$.
  - Again, use CMP to compare, MUX to swap if necessary.

- **Subsequent Cycles:** Repeat the comparison and swap process until no swaps are needed for two consecutive cycles.

#### Completion Signal (V)

- **V = 1** when the circuit detects that no swaps were made in two consecutive cycles, indicating that the list is sorted.

The detailed logic for each cycle will involve sequencing the CMP and MUX operations and ensuring that the outputs reflect the sorted order. The ALT circuit can be used to help manage the timing and toggling of states as needed.

## 知识点

#数字电路 #时序逻辑 #D触发器 #冒泡排序 #逻辑门电路

## 解题技巧和信息

- D 触发器是时序逻辑电路的基础元件，其输出状态由输入状态和时钟信号决定。
- 在设计 ALT 电路时，可以通过 D 触发器的反馈实现状态的切换，这是时序逻辑电路设计中的一个重要技巧。
- 冒泡排序电路的设计需要巧妙地利用比较器和多路复用器来实现元素之间的交换操作，这在数字排序电路设计中是一个常见的思路。

## 重点词汇

- **Flip-Flop (触发器)**
- **Comparator (比较器)**
- **Multiplexer (多路复用器)**
- **Clock Cycle (时钟周期)**
- **Bubble Sort (冒泡排序)**

## 参考资料

1. Rabaey, J. M., Chandrakasan, A., & Nikolic, B. *Digital Integrated Circuits: A Design Perspective*. Prentice Hall, 2002.
2. Brown, S., & Vranesic, Z. *Fundamentals of Digital Logic with VHDL Design*. McGraw-Hill, 2008.
