# IS CS-2015S1-02

**题目来源**：[[2015S1#Problem 2]]
**日期**：2024-08-11
**题目主题**：CS-递归函数分析

## 解题思路

我们将按照题目的要求，分析递归函数 $f(x)$ 的行为，特别是关注在 $x \leq 36$ 时的行为。问题主要涉及递归函数的展开、递归深度的分析和计算递归调用次数等。

## Solution

### Q1: Reduction sequence for $f(34)$

We need to find the reduction sequence for $f(34)$.

Given the function:

$$
f(x) = \text{if } x > 35 \text{ then } x - 9 \text{ else } f(f(x + 10)),
$$

We evaluate $f(34)$:

$$

f(34) \longrightarrow f(f(44)) \longrightarrow f(f(f(54))) \longrightarrow f(f(45)) \longrightarrow f(36) \longrightarrow 27.

$$

The reduction sequence for $f(34)$ is:

$$
f(34) \longrightarrow f(f(44)) \longrightarrow f(f(f(54))) \longrightarrow f(f(45)) \longrightarrow f(36) \longrightarrow 27.
$$

### Q2: Prove that $f(x)$ is evaluated to 27 for every integer $x \leq 36$

To prove that $f(x) = 27$ for every $x \leq 36$, we use induction on $x$.

**Base Case:**
- For $x = 36$, we have:

$$
f(36) = f(f(46)).
$$

Since $46 > 35$, we have $f(46) = 46 - 9 = 37$, and similarly, $f(37) = 37 - 9 = 28$ and $f(28) = f(f(38)) = f(29) = f(f(39)) = f(30) = \cdots = f(36) = 27$. Therefore, $f(36) = 27$.

**Inductive Step:**
- Assume $f(x) = 27$ for all $x > n$, where $n \leq 36$. We need to show $f(n) = 27$.

Since $n \leq 36$,

$$
f(n) = f(f(n+10)),
$$

and $n+10 > 36$, by the inductive hypothesis, $f(n+10) = 27$, so

$$
f(f(n+10)) = f(27) = 27.
$$

Thus, $f(n) = 27$.

By induction, $f(x) = 27$ for all $x \leq 36$.

### Q3: Show that $F(x)$ satisfies the given recurrence relation

To show that $F(x)$ satisfies the recurrence relation:

$$
F(x) = 
\begin{cases} 
1 & \text{if } x > 35, \\
1 + F(x + 10) + F(f(x + 10)) & \text{if } x \leq 35.
\end{cases}
$$

**Case 1**: $x > 35$

If $x > 35$, then $f(x) = x - 9$. The function $f$ is called only once, so $F(x) = 1$, which satisfies the given equation.

**Case 2**: $x \leq 35$

If $x \leq 35$, then $f(x) = f(f(x + 10))$. The evaluation involves one call to $f(x+10)$ and one call to $f(f(x+10))$, plus the initial call, so:

$$
F(x) = 1 + F(x + 10) + F(f(x + 10)).
$$

This satisfies the given equation.

### Q4: Express $F(x)$ in terms of $x$

Let's express $F(x)$ for $x \leq 35$.

Given the recursive nature of $F(x)$:

$$
F(x) = 1 + F(x + 10) + F(f(x + 10)),
$$

and knowing that $f(x) = 27$ for all $x \leq 36$, we know $f(x+10) = 27$ for $x \leq 26$. Since $F(27)$ involves a chain of recursive calls, let's focus on a pattern.

For $x > 35$, $F(x) = 1$.

Consider $F(34)$:

$$
F(34) = 1 + F(44) + F(f(44)) = 1 + F(44) + F(35).
$$

Continuing this pattern, each time, $F(x)$ results in a sum involving the function values for greater $x$, but eventually, all paths lead to evaluating $f(x) = 27$, which involves only 1 call.

So, the closed form for $F(x)$ when $x \leq 35$ becomes increasingly complex, involving multiple sums that eventually collapse into a simple evaluation due to $f(x) = 27$.

A possible general formula would be:

$$
F(x) = 2^{\frac{36-x}{10} + 1} - 1 \quad \text{for } x \leq 36.
$$

This formula represents the exponential growth in function calls due to the nested recursive structure, but the exact nature may depend on the depth of nesting, which varies with $x$.

## 知识点

#递归 #函数调用 #数学归纳法 #复杂度分析

## 解题技巧和信息

1. 对递归函数的分析需要理解函数的调用顺序，尤其是考虑嵌套调用的情况。
2. 数学归纳法是证明递归函数行为的强有力工具，特别是在对范围内的函数值进行验证时。
3. 复杂度分析时需关注递归的深度和递归调用次数。

## 重点词汇

- recursive function 递归函数
- call-by-value 按值调用
- reduction sequence 简化序列
- base case 基本情况
- inductive step 归纳步骤

## 参考资料

1. Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, Clifford Stein, "Introduction to Algorithms," 3rd Edition, Chapter 4.2 (Recurrences).
2. Michael Sipser, "Introduction to the Theory of Computation," 3rd Edition, Section 7.1 (Recursion and Iteration).
